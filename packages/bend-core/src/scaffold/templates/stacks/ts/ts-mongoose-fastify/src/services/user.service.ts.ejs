import User, { IUser } from '../models/User.model';

export async function createUser(data: Partial<IUser>): Promise<IUser> {
  const user = new User(data);
  return user.save();
}

export async function listUsers(options: { limit?: number; skip?: number } = {}): Promise<IUser[]> {
  const { limit = 50, skip = 0 } = options;
  return User.find().sort({ createdAt: -1 }).skip(skip).limit(limit).lean().exec() as Promise<IUser[]>;
}

export async function getUserById(id: string): Promise<IUser | null> {
  return User.findById(id).lean().exec() as Promise<IUser | null>;
}
